<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>admin</title>
    <link rel="stylesheet" href="sass/common.css" type="text/css"/>
    <link rel="stylesheet" href="sass/users.css" type="text/css"/>
</head>
<body>
<div class="content">
    <header>
        <a class="logo left" href="index.html">Back office</a>
        <!-- ko if: active_page() === 0 -->
        <a class="logo right" href="new.html">Create new user</a>
        <!--/ko-->
        <h1>
            <!-- ko if: active_page() === 0 -->
            List User
            <!--/ko-->
            <!-- ko if: active_page() === 1 -->
            <span data-bind="text:current_user().user_name()">Current user name</span>
            <!--/ko-->
        </h1>
        <!-- ko if: active_page() === 1 -->
        <form class="type-db">
            <label data-bind="click:function(){bd_type(0); return true}">
                <input checked type="radio" name="radio" value="0">Our DB
            </label>
            <label data-bind="click:function(){bd_type(1); return true}">
                <input type="radio" name="radio" value="0">Custom DB
            </label>
        </form>
        <!--/ko-->
    </header>
    <div class="wrapper">
        <!-- ko if: active_page() === 0 -->
        <ul data-bind="foreach: users" class="users">
            <li>
                <div class="info">
                    <div class="img-user">
                        <img data-bind="attr: { src: photo() }" >
                        <a data-bind="attr: { href: 'http://rdam.tk/#' + id }" href="#">rdam.tk/#<span data-bind="text: id()"></span></a>
                    </div>
                    <h2 data-bind="text: user_name()" >Bob Boons</h2>
                    <span data-bind="text: city" class="city()"> Amsterdam</span>
                    <p  data-bind="text: descr()">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus aliquet erat in ex commodo, eget ornare nibh mollis. Maecenas faucibus ante enim, sed fringilla purus consequat accumsan. Pellentesque ut ligula odio. Donec ac faucibus massa. Etiam eget magna semper, varius turpis ac, fermentum metus.</p>
                </div>
                <span data-bind="click: function() {$root.current_user($data);$root.active_page(1);}" class="edit">edit</span>
            </li>
        </ul>
        <div class="upload-users">
            <a href="#" data-bind="upload_users: users">Next users</a>
        </div>
        <!-- /ko -->

        <!-- ko if: active_page() === 1 -->
        <div class="edit-page">

            <!--ko with:current_user()-->

                <h2 data-bind="animation:{}" id="edit1-click">edit information about name, city, description</h2>
                <div class="editer" id="edit1">
                    <table >
                        <tr>
                            <td>name:</td>
                            <td>
                                <input type="text" data-bind="value: user_name()" name="edit_name" />
                            </td>
                        </tr>
                        <tr>
                            <td>city:</td>
                            <td>
                                <input type="text" data-bind="value: city()" name="edit_city" />
                            </td>
                        </tr>
                        <tr>
                            <td>description:</td>
                            <td>
                                <textarea data-bind="value: descr()"> </textarea>
                            </td>
                       </tr>
                    </table>
                    <div class="buttons">
                        <button type="button" data-bind="click: $parent.save_info">save</button>
                        <button type="reset">reset</button>
                    </div>
                    <span data-bind="text: $parent.curr_oper.info()"></span>
                </div>
            <form id="formPhoto">
                <h2 data-bind="animation:{}" id="edit2-click">edit  photo</h2>
                <div class="editer" id="edit2">
                <table >
                    <tr>
                        <td class="text-align-center">
                            <span>(gif, png, jpg)</span>
                            <input name="id"  data-bind="value: id()" type="hidden" value="" />
                            <input class="normal-line-hei" name="photo" type="file" />
                        </td>
                    </tr>
                </table>
                <div class="buttons">
                    <button type="button" data-bind="click: $parent.save_photo">upload</button>
                    <button type="reset">clear</button>
                </div>
                </div>
            </form>
            <!-- ko if: $parent.bd_type() === 0 -->
            <form id="formData">
                <h2 data-bind="animation:{}" id="edit3-click">add data(cvs)</h2>
                <div class="editer" id="edit3">
                <table >
                    <tr>
                        <td class="text-align-center">
                            <input data-bind="value: id()" name="id" type="hidden" value="" />
                            <label><input type="checkbox" value="true" checked="checked"/>ignore first line</label>
                            <input class="normal-line-hei" name="data" type="file" />
                        </td>
                    </tr>
                </table>
                <div class="buttons">
                    <button type="button" data-bind="click: $parent.save_data">upload</button>
                    <button type="reset">clear</button>
                </div>
                </div>
            </form>
            <!-- /ko -->

            <!-- ko if: $parent.bd_type() === 1 -->
            <form class="decoration-line" name="formname" action="">
                <h2 data-bind="animation:{}" id="edit4-click">
                    custom DB settings
                </h2>
                <div id="edit4">
                    <table>
                        <tr>
                            <td>server:</td>
                            <td>
                                <input type="text" name="edit_name" />
                            </td>
                        </tr>
                        <tr>
                            <td>name:</td>
                            <td>
                                <input type="text" name="edit_name" />
                            </td>
                        </tr>
                        <tr>
                            <td>user:</td>
                            <td>
                                <input type="text" name="edit_name" />
                            </td>
                        </tr>
                        <tr>
                            <td>pass:</td>
                            <td>
                                <input type="text" name="edit_name" />
                            </td>
                        </tr>
                        <tr>
                            <td>port:</td>
                            <td>
                                <input type="text" name="edit_name" />
                            </td>
                        </tr>

                    </table>
                    <div class="buttons">
                        <button type="button" data-bind="">set auth</button>
                        <button type="reset">test connection</button>
                    </div>
                </div>
                <!-- /ko -->
                </form>
            <!-- /ko -->
        </div>
        <!-- /ko -->
    </div>

</div>
<script type='text/javascript' src='js/vendor/jquery-2.1.1.js'></script>
<script type='text/javascript' src='js/vendor/knockout-3.2.0.js'></script>
<script type='text/javascript' src='js/app/validator.js'></script>
<script type='text/javascript' src='js/app/ajax.js'></script>
<script type='text/javascript' src='js/app/user.js'></script>
</body>
</html>