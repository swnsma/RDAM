<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>admin</title>
    <link rel="stylesheet" href="sass/common.css" type="text/css" />
    <link rel="stylesheet" href="styles/edit2.css" type="text/css" />
</head>
<body>
<div class="content">
    <header>
        <menu>
            <a  href="index.html"><img class="menu-ico" alt="home" src="img/ios7-home-white.png"></a>
            <a  href="new.html"><img class="menu-ico" alt="create" src="img/person-add-white.png"></a>
            <a  href="users.html"><img class="menu-ico" alt="List user" src="img/person-stalker-white.png"></a>
            <a  href="design.html"><img class="menu-ico" alt="design" src="img/ios7-photos-white.png"></a>
        </menu>
        <h1>
            <span data-bind="text:function(){return user().user_name+' - Edit' }()">Current user name</span>
        </h1>
    </header>
    <div class="wrapper">
        <div class="edit">
            <div class="table">
                <div class="table-row">
                    <div class="table-cell">
                        <ul class="list-left-menu">
                            <li data-bind="click: function() { active_page(0); }, css: { active: active_page() == 0 }">edit user info</li>
                            <li data-bind="click: function() { active_page(1); }, css: { active: active_page() == 1 }">edit photo</li>
                            <li data-bind="click: function() { active_page(2); }, css: { active: active_page() == 2 }">database</li>
                        </ul>
                    </div>
                    <div class="table-cell edit-data">
                        <span class="error" data-bind="text: $root.curr_oper.info.global"></span>
                        <!-- ko if: active_page() == 0 -->
                        <!-- ko with: user() -->
                        <table >
                            <tr>
                                <td>name:</td>
                                <td class="data-title" data-title="1-25 characters and unique name">
                                    <input class="fi" type="text" data-bind="value: user_name,attr: { invalid: $root.valid.user_name }" name="edit_name" />
                                    <span class="error" data-bind="text:$root.curr_oper.info.local.user_name"></span>
                                </td>
                            </tr>
                            <tr>
                                <td>city:</td>
                                <td class="data-title" data-title="city of this link http://www.worldweatheronline.com/country.aspx">
                                    <input class="fi" type="text" data-bind="value: city,attr: { invalid: $root.valid.city }" name="edit_city" />
                                    <span class="error" data-bind="text:$root.curr_oper.info.local.city"></span>
                                </td>
                            </tr>
                            <tr>
                                <td>description:</td>
                                <td class="data-title" data-title="max 1000 characters">
                                    <textarea class="fi" id="textarea" data-bind="value: descr,attr: { invalid: $root.valid.description }"> </textarea>
                                    <span class="error" data-bind="text:$root.curr_oper.info.local.description"></span>
                                </td>
                            </tr>
                        </table>
                        <div class="buttons">
                            <button type="button" data-bind="click: $parent.save_info">save</button>
                            <button type="reset">clear</button>
                        </div>
                        <!-- /ko -->
                        <!-- /ko -->
                        <!-- ko if: active_page() == 1 -->
                        <!-- ko with: user() -->
                        <div class="editer" id="edit2">
                            <table >
                                <tr>

                                    <td class="text-align-center">
                                        <span>(gif, png, jpg)</span>
                                        <input name="id"  data-bind="value: id" type="hidden" />
                                        <input class="normal-line-hei" name="photo" type="file" />
                                    </td>
                                </tr>
                            </table>
                            <div class="buttons">
                                <button type="button" data-bind="click: $parent.save_photo">upload</button>
                                <button type="reset">clear</button>
                            </div>
                        </div>
                        <!-- /ko -->
                        <!-- /ko -->
                        <!-- ko if: active_page() == 2 -->
                        <form>
                            <label><input data-bind="click: function() { $parent.change_db_type(1); }" type="radio" name="r" />Default database</label>
                            <label><input data-bind="click: function() { $parent.change_db_type(0); }" type="radio" name="r" />External database</label>
                        </form>
                        <hr />
                        <h3 class="db-setting">
                            upload data from csv-file to the default database
                        </h3>
                        <!-- ko with: user() -->
                        <table>
                            <tr>
                                <td class="text-align-center">
                                    <input data-bind="value: id" name="id" type="hidden" />
                                    <label><input type="checkbox" value="true" checked="checked"/>ignore first line</label>
                                    <input class="normal-line-hei" name="data" type="file" />
                                </td>
                            </tr>
                        </table>
                        <div class="buttons">
                            <button type="button" data-bind="click: $parent.save_data">upload</button>
                            <button type="reset">clear</button>
                        </div>
                        <!-- /ko -->

                        <h3 class="db-setting">
                            external DB
                        </h3>
                        <div>
                            <!-- ko with: custom_db() -->
                            <table>
                                <tr>
                                    <td>server:</td>
                                    <td>
                                        <input class="fi" style="width: 314px" data-bind="value: server" type="text" />
                                        <span style="padding-left: 1px; font-weight: bold">:</span>
                                        <input class="fi" style="width: 30px"data-bind="value: port" type="text" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>name:</td>
                                    <td>
                                        <input class="fi" data-bind="value: name" type="text" name="edit_name" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>user:</td>
                                    <td>
                                        <input class="fi" data-bind="value: user" type="text" name="edit_name" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>password:</td>
                                    <td>
                                        <input class="fi" data-bind="value: pass" type="text" name="edit_name" />
                                    </td>
                                </tr>
                            </table>
                            <!-- /ko -->
                            <div class="buttons">
                                <button type="button" data-bind="click: set_auth">save</button>
                                <button type="button" data-bind="click: test_connection">test connection</button>
                            </div>
                        </div>
                        <!-- /ko -->

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="js/vendor/jquery-2.1.1.js"></script>
<script type="text/javascript" src="js/vendor/knockout-3.2.0.js"></script>
<script type="text/javascript" src="js/app/common.js"></script>
<script type="text/javascript" src="js/app/validator.js"></script>
<script type="text/javascript" src="js/app/ajax.js"></script>
<script type="text/javascript" src="js/app/edit2.js"></script>
</body>
</html>