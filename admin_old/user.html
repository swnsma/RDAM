<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>admin</title>
    <link rel="stylesheet" href="sass/common.css" type="text/css"/>
    <link rel="stylesheet" href="sass/users.css" type="text/css"/>
</head>
<body>
<div class="content">
    <header>
        <a class="logo" href="index1.html">Back office</a>
        <h1>
            <!-- ko if: active_page() === 0 -->
            List User
            <!--/ko-->
            <!-- ko if: active_page() === 1 -->
            <span data-bind="text:$root.current_user().user_name"></span>
            <!--/ko-->
        </h1>
    </header>
    <div class="wrapper">
        <!-- ko if: active_page() === 0 -->
        <ul data-bind="foreach: users" class="users">
            <li>
                <div class="info">
                    <div class="img-user">
                        <img data-bind="attr: { src: photo }" >
                        <a data-bind="attr: { href: 'http://rdam.tk/#' + id }" href="#">rdam.tk/#<span data-bind="text: id"></span></a>
                    </div>
                    <h2 data-bind="text: user_name" >Bob Boons</h2>
                    <span data-bind="text: city" class="city"> Amsterdam</span>
                    <p  data-bind="text: descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus aliquet erat in ex commodo, eget ornare nibh mollis. Maecenas faucibus ante enim, sed fringilla purus consequat accumsan. Pellentesque ut ligula odio. Donec ac faucibus massa. Etiam eget magna semper, varius turpis ac, fermentum metus.</p>
                </div>
                <span data-bind="click: function(){ debugger; $root.current_user($data);$root.active_page(1);}" class="edit">edit</span>
            </li>
        </ul>
        <div class="upload-users">
            <a href="#" data-bind="upload_users: users">Next users</a>
        </div>
        <!-- /ko -->

        <!-- ko if: active_page() === 1 -->
        <div class="edit-page">
            <form class="decoration-line" name="formname" action="">
                <h2 data-bind="animation:{}" id="edit1-click">edit information about name, city, description</h2>
                <div class="editer" id="edit1">
                    <table >
                    <tr>
                        <td>name:</td>
                        <td>
                            <input type="text" name="edit_name" data-bind="value: user_name.text, attr: { invalid: user_name.invalid }"/>
                        </td>
                    </tr>
                    <tr>
                        <td>city:</td>
                        <td>
                            <input type="text" name="edit_name" data-bind="value: city.text, attr: { invalid: city.invalid }"/>
                        </td>
                    </tr>
                    <tr>
                        <td>description:</td>
                        <td>
                            <textarea data-bind="value: descr.text, attr: { invalid: descr.invalid }"> </textarea>
                        </td>
                    </tr>
                </table>
                    <div class="buttons">
                    <button type="button" data-bind="click: update_info">save</button>
                    <button type="reset">reset</button>
                </div>
                </div>
            </form>
            <form id="formPhoto">
                <h2 data-bind="animation:{}" id="edit2-click">edit  photo</h2>
                <div class="editer" id="edit2">
                <table >
                    <tr>
                        <td>photo: (gif, png, jpg)</td>
                        <td>
                            <input data-bind="value: id" name="id"  type="hidden" value="" />
                            <input name="photo" type="file" />
                        </td>
                    </tr>
                </table>
                <!--<progress id="photoProgress"></progress>-->
                <div class="buttons">
                    <button type="button" data-bind="click: update_image">save</button>
                    <button type="reset">reset</button>
                </div>
                </div>
            </form>
            <form id="formData">
                <h2 data-bind="animation:{}" id="edit3-click">edit data</h2>
                <div class="editer" id="edit3">
                <table >
                    <tr>
                        <td>add data: (csv)</td>
                        <td>
                            <input data-bind="value: id" name="id" type="hidden" value="" />
                            <label><input type="checkbox" value="true" checked="checked" />ignore</label>
                            <input name="data" type="file" />
                        </td>
                    </tr>
                </table>
                <!--<progress id="dataProgress"></progress>-->
                <div class="buttons">
                    <button type="button" data-bind="click: update_data">submit</button>
                    <button type="reset">reset</button>
                </div>
                </div>
            </form>
            <span data-bind="text: curr_operation()"></span>
        </div>
        <!-- /ko -->
    </div>

</div>
<script type='text/javascript' src='../site/js/vendor/jquery-2.1.1.js'></script>
<script type='text/javascript' src='../site/js/vendor/knockout/knockout-3.2.0.js'></script>
<script type='text/javascript' src='js/app/validator.js'></script>
<script type='text/javascript' src='js/app/ajax.js'></script>
<script type='text/javascript' src='js/app/admin.vm.js'></script>
<script type='text/javascript' src='js/app/animate.js'></script>
</body>
</html>